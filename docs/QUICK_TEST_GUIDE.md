# 快速测试指南

## 🧪 测试新功能

### 1️⃣ 测试文件夹管理（1分钟）

1. 打开浏览器访问: http://localhost:3000/notes
2. 查看左侧边栏，应该看到"文件夹"区域
3. 点击 ➕ 按钮
4. 输入文件夹名称（如"工作笔记"）
5. 点击"创建"按钮
6. ✅ 应该看到新文件夹出现在列表中

**预期效果**:
- 文件夹显示在左侧边栏
- 可以展开/折叠文件夹
- 显示笔记数量
- 点击文件夹可以筛选笔记

---

### 2️⃣ 测试图片拖拽上传（2分钟）

#### 方式一：拖拽上传
1. 访问: http://localhost:3000/notes/new
2. 准备一张图片文件（任意图片）
3. 拖拽图片到编辑器的 Textarea 区域
4. ✅ 应该看到：
   - 拖拽时出现蓝色高亮边框
   - 释放后显示上传进度条
   - 上传完成后图片 Markdown 自动插入

#### 方式二：粘贴上传
1. 复制一张图片（右键复制或截图）
2. 在编辑器中按 `Ctrl+V` (Mac: `Cmd+V`)
3. ✅ 应该看到：
   - 上传进度显示
   - 图片自动插入到光标位置

**预期效果**:
- 上传时显示进度条和百分比
- 上传成功后显示成功提示
- 图片以 `![image](url)` 格式插入
- 可以在预览中看到图片

---

### 3️⃣ 测试导出和历史按钮（1分钟）

1. 访问: http://localhost:3000/notes/new
2. 输入标题和内容
3. 查看编辑器工具栏（Markdown 按钮下方）
4. ✅ 应该看到三个按钮：
   - 📥 **导出** 按钮
   - 🕐 **历史** 按钮
   - 🔗 **分享** 按钮

#### 测试导出功能
1. 点击"导出"按钮
2. 选择导出格式（Markdown/PDF/HTML）
3. ✅ 应该下载对应格式的文件

#### 测试历史功能
1. 保存笔记后编辑几次
2. 点击"历史"按钮
3. ✅ 应该看到版本历史列表
4. 可以查看和恢复历史版本

#### 测试分享功能
1. 点击"分享"按钮
2. ✅ 应该打开分享对话框
3. 可以添加协作者或生成公开链接

---

## 🎯 完整测试流程（5分钟）

### 场景：创建一篇带图片的笔记并组织到文件夹

1. **创建文件夹**
   - 访问 `/notes`
   - 创建文件夹"测试文件夹"

2. **创建笔记**
   - 点击"新建笔记"
   - 输入标题："测试笔记"
   - 输入一些内容

3. **上传图片**
   - 拖拽一张图片到编辑器
   - 等待上传完成
   - 查看预览中的图片

4. **保存笔记**
   - 点击"保存"按钮
   - 等待保存成功提示

5. **测试导出**
   - 点击"导出"按钮
   - 选择 Markdown 格式
   - 下载并查看文件

6. **测试分享**
   - 点击"分享"按钮
   - 查看分享选项

7. **组织到文件夹**
   - 返回笔记列表
   - 将笔记移动到"测试文件夹"
   - 点击文件夹查看筛选效果

---

## ✅ 检查清单

### 文件夹管理
- [ ] 左侧边栏显示文件夹区域
- [ ] 可以创建新文件夹
- [ ] 文件夹显示笔记数量
- [ ] 可以展开/折叠文件夹
- [ ] 点击文件夹可以筛选笔记
- [ ] "所有笔记"按钮可用

### 图片上传
- [ ] 拖拽图片时显示高亮边框
- [ ] 上传时显示进度条
- [ ] 上传成功后显示提示
- [ ] 图片正确插入到编辑器
- [ ] 粘贴上传功能正常
- [ ] 可以上传多张图片
- [ ] 预览中可以看到图片

### 导出和历史
- [ ] 工具栏显示三个按钮
- [ ] 导出按钮可以点击
- [ ] 导出对话框正常打开
- [ ] 可以选择导出格式
- [ ] 历史按钮可以点击
- [ ] 历史对话框正常打开
- [ ] 分享按钮可以点击
- [ ] 分享对话框正常打开

---

## 🐛 常见问题

### 问题1: 看不到文件夹侧边栏
**解决**: 
- 确保访问的是 `/notes` 页面
- 在桌面端（宽度 > 1024px）才显示
- 刷新浏览器

### 问题2: 图片上传失败
**解决**:
- 检查图片格式（支持 jpg, png, gif, webp）
- 检查图片大小（建议 < 5MB）
- 查看浏览器控制台错误信息
- 确保 Supabase 存储配置正确

### 问题3: 看不到导出按钮
**解决**:
- 刷新页面
- 清除浏览器缓存
- 检查是否在编辑页面（不是详情页）

---

## 📸 预期截图位置

### 文件夹侧边栏
```
位置: /notes 页面左侧
应该看到:
┌─────────────────┐
│ 文件夹      [+] │
├─────────────────┤
│ 📁 工作笔记  (3)│
│ 📁 学习笔记  (5)│
│ 📁 个人笔记  (2)│
├─────────────────┤
│ 📄 所有笔记     │
└─────────────────┘
```

### 图片上传区域
```
位置: 编辑器 Textarea
拖拽时:
┌─────────────────────────┐
│ 🔵 释放以上传图片        │
│                         │
│    [上传图标]           │
│                         │
└─────────────────────────┘

上传中:
┌─────────────────────────┐
│ ⏳ 上传中... 45%        │
│ ▓▓▓▓▓▓▓▓▓░░░░░░░       │
└─────────────────────────┘
```

### 工具栏按钮
```
位置: 编辑器下方
应该看到:
[B] [I] [H1] [H2] ... | [AI格式化] | [📥导出] [🕐历史] [🔗分享]
```

---

## 🎉 测试完成

如果所有检查项都通过，说明功能正常！

有问题请查看:
- 浏览器控制台错误
- 网络请求状态
- `FIXES_SUMMARY.md` 详细文档
