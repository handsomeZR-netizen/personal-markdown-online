# 🌏 中国大陆访问 Vercel 网站解决方案

## 问题
Vercel 的默认域名（`*.vercel.app`）在中国大陆无法访问（被墙）。

---

## 🎯 解决方案（按推荐顺序）

### 方案 1: 绑定自定义域名（推荐）⭐⭐⭐⭐⭐

这是最佳解决方案，可以让你的网站在中国大陆正常访问。

#### 步骤 1: 购买域名

**国内域名注册商**（推荐）：
- [阿里云（万网）](https://wanwang.aliyun.com/) - 最大的域名注册商
- [腾讯云](https://dnspod.cloud.tencent.com/) - 价格实惠
- [华为云](https://www.huaweicloud.com/product/domain.html)
- [西部数码](https://www.west.cn/)

**国外域名注册商**：
- [Namesilo](https://www.namesilo.com/) - 便宜，支持支付宝
- [Namecheap](https://www.namecheap.com/)
- [GoDaddy](https://www.godaddy.com/)
- [Cloudflare](https://www.cloudflare.com/products/registrar/) - 成本价

**价格参考**：
- `.com` 域名：约 60-80 元/年
- `.cn` 域名：约 30-50 元/年
- `.top` 域名：约 10-20 元/年（首年）

#### 步骤 2: 在 Vercel 添加域名

1. 登录 [Vercel Dashboard](https://vercel.com)
2. 选择你的项目
3. 进入 **Settings** → **Domains**
4. 点击 **Add Domain**
5. 输入你的域名，例如：`mynotes.com` 或 `www.mynotes.com`
6. 点击 **Add**

#### 步骤 3: 配置 DNS 解析

Vercel 会提供 DNS 配置信息，你需要在域名注册商处添加记录。

**选项 A: 使用 A 记录（推荐）**

在你的域名 DNS 管理中添加：

```
类型: A
主机记录: @（或留空，表示根域名）
记录值: 76.76.21.21
TTL: 600（或默认）
```

如果要配置 `www` 子域名：
```
类型: CNAME
主机记录: www
记录值: cname.vercel-dns.com
TTL: 600
```

**选项 B: 使用 CNAME 记录**

```
类型: CNAME
主机记录: @（或留空）
记录值: cname.vercel-dns.com
TTL: 600
```

**阿里云示例**：
1. 登录阿里云控制台
2. 进入 **域名** → **解析设置**
3. 点击 **添加记录**
4. 填写上述信息
5. 点击 **确定**

**腾讯云示例**：
1. 登录腾讯云控制台
2. 进入 **DNSPod** → **我的域名**
3. 点击域名进入解析设置
4. 添加记录
5. 保存

#### 步骤 4: 等待生效

- DNS 解析生效时间：10 分钟 - 48 小时（通常 10-30 分钟）
- Vercel 会自动配置 SSL 证书（Let's Encrypt）
- 配置完成后，你的网站就可以通过自定义域名访问了

#### 步骤 5: 验证

访问你的域名：`https://你的域名.com`

如果看到你的网站，说明配置成功！🎉

---

### 方案 2: 使用 Cloudflare CDN（推荐）⭐⭐⭐⭐

即使使用自定义域名，也建议配置 Cloudflare CDN 来加速中国大陆访问。

#### 优势
- ✅ 免费
- ✅ 加速中国大陆访问
- ✅ 提供 DDoS 防护
- ✅ 自动 HTTPS
- ✅ 缓存优化

#### 步骤

1. **注册 Cloudflare**
   - 访问 [Cloudflare](https://www.cloudflare.com/)
   - 注册免费账号

2. **添加网站**
   - 点击 **Add a Site**
   - 输入你的域名
   - 选择 **Free** 计划

3. **更改 DNS 服务器**
   - Cloudflare 会提供两个 DNS 服务器地址
   - 在域名注册商处修改 DNS 服务器为 Cloudflare 提供的地址
   - 例如：
     ```
     ns1.cloudflare.com
     ns2.cloudflare.com
     ```

4. **配置 DNS 记录**
   - 在 Cloudflare DNS 管理中添加：
     ```
     类型: A
     名称: @
     IPv4 地址: 76.76.21.21
     代理状态: 已代理（橙色云朵）
     ```

5. **优化设置**
   - **SSL/TLS** → 设置为 **Full (strict)**
   - **Speed** → **Optimization** → 启用 **Auto Minify**
   - **Caching** → 设置缓存规则

6. **等待生效**
   - DNS 更改生效：24-48 小时
   - Cloudflare 激活：通常几分钟

---

### 方案 3: 部署到国内平台（备选）⭐⭐⭐

如果你需要更好的中国大陆访问速度，可以考虑部署到国内平台。

#### 选项 A: Zeabur（推荐）

**优势**：
- ✅ 支持 Next.js
- ✅ 中国大陆访问快
- ✅ 操作简单，类似 Vercel
- ✅ 有免费额度

**步骤**：
1. 访问 [Zeabur](https://zeabur.com/)
2. 使用 GitHub 登录
3. 导入你的项目
4. 配置环境变量（与 Vercel 相同）
5. 部署

**注意**：需要绑定自定义域名才能在中国访问。

#### 选项 B: 阿里云 / 腾讯云

**优势**：
- ✅ 中国大陆访问最快
- ✅ 稳定性高
- ✅ 可以备案

**劣势**：
- ❌ 需要备案（约 20 天）
- ❌ 配置复杂
- ❌ 费用较高

**服务选择**：
- **阿里云 Web+**：类似 Vercel 的 PaaS 平台
- **腾讯云 Webify**：静态网站托管
- **阿里云 ECS + 宝塔面板**：完全控制

#### 选项 C: Railway

**优势**：
- ✅ 支持 Next.js
- ✅ 配置简单
- ✅ 有免费额度

**步骤**：
1. 访问 [Railway](https://railway.app/)
2. 使用 GitHub 登录
3. 导入项目
4. 配置环境变量
5. 部署

**注意**：Railway 的默认域名在中国也可能被墙，需要绑定自定义域名。

---

### 方案 4: 使用反向代理（临时方案）⭐⭐

如果你暂时没有域名，可以使用反向代理服务。

#### 选项 A: Cloudflare Workers

创建一个 Worker 脚本：

```javascript
addEventListener('fetch', event => {
  event.respondWith(handleRequest(event.request))
})

async function handleRequest(request) {
  const url = new URL(request.url)
  url.hostname = 'your-app.vercel.app' // 替换为你的 Vercel 域名
  
  const modifiedRequest = new Request(url, {
    method: request.method,
    headers: request.headers,
    body: request.body,
  })
  
  return fetch(modifiedRequest)
}
```

然后绑定一个 Workers.dev 域名（可能也被墙）或自定义域名。

#### 选项 B: 使用国内服务器反向代理

如果你有国内服务器，可以使用 Nginx 反向代理：

```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        proxy_pass https://your-app.vercel.app;
        proxy_set_header Host your-app.vercel.app;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

---

## 💰 成本对比

| 方案 | 月费用 | 年费用 | 难度 | 速度 |
|------|--------|--------|------|------|
| Vercel + 自定义域名 | ¥0 | ¥60-80（域名） | ⭐ | ⭐⭐⭐ |
| Vercel + Cloudflare | ¥0 | ¥60-80（域名） | ⭐⭐ | ⭐⭐⭐⭐ |
| Zeabur | ¥0-50 | ¥0-600 | ⭐ | ⭐⭐⭐⭐ |
| 阿里云 Web+ | ¥50-200 | ¥600-2400 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 腾讯云 Webify | ¥0-100 | ¥0-1200 | ⭐⭐ | ⭐⭐⭐⭐⭐ |

---

## 🎯 推荐方案

### 个人项目 / 学习项目
**Vercel + 自定义域名 + Cloudflare**
- 成本：约 ¥60-80/年（仅域名费用）
- 优势：简单、稳定、免费
- 适合：个人博客、作品集、学习项目

### 商业项目 / 需要备案
**阿里云 / 腾讯云**
- 成本：约 ¥600-2400/年
- 优势：速度快、可备案、稳定
- 适合：正式商业项目

### 快速测试 / 演示
**Zeabur + 自定义域名**
- 成本：约 ¥60-80/年（仅域名费用）
- 优势：部署快、中国访问好
- 适合：快速原型、演示项目

---

## 📝 域名购买建议

### 选择域名后缀

**推荐**：
- `.com` - 最通用，国际认可度高
- `.cn` - 中国域名，需要实名认证
- `.net` - 技术类项目常用
- `.top` - 便宜，适合测试

**不推荐**：
- `.xyz` - 容易被认为是垃圾网站
- `.tk` / `.ml` 等免费域名 - 不稳定，容易被墙

### 域名命名建议

- ✅ 简短易记
- ✅ 与项目相关
- ✅ 避免数字和连字符
- ✅ 容易拼写

**示例**：
- `mynotes.com`
- `notesapp.top`
- `smartnote.cn`

---

## 🚀 快速开始（推荐流程）

### 第 1 天：购买域名
1. 在阿里云或腾讯云购买域名（10 分钟）
2. 完成实名认证（如果是 .cn 域名）

### 第 2 天：配置 Vercel
1. 在 Vercel 添加自定义域名（5 分钟）
2. 配置 DNS 解析（5 分钟）
3. 等待生效（10-30 分钟）

### 第 3 天：配置 Cloudflare（可选）
1. 注册 Cloudflare（5 分钟）
2. 添加网站（5 分钟）
3. 更改 DNS 服务器（5 分钟）
4. 等待生效（24-48 小时）

### 完成！
你的网站现在可以在中国大陆正常访问了！🎉

---

## ❓ 常见问题

### Q: 域名需要备案吗？
**A**: 
- 使用 Vercel 部署 + 自定义域名：**不需要备案**
- 使用国内服务器（阿里云/腾讯云）：**需要备案**

### Q: 备案需要多久？
**A**: 通常 15-20 个工作日

### Q: 不备案会怎样？
**A**: 
- 使用 Vercel：完全没问题，不影响使用
- 使用国内服务器：无法绑定域名，网站无法访问

### Q: Cloudflare 在中国快吗？
**A**: 
- Cloudflare 在中国有合作节点（百度云加速）
- 速度比直连 Vercel 快很多
- 但不如国内 CDN（阿里云、腾讯云）

### Q: 域名可以转移吗？
**A**: 可以，但需要：
- 域名注册满 60 天
- 获取转移码
- 在新注册商处提交转移申请

### Q: 推荐哪个域名注册商？
**A**: 
- **国内用户**：阿里云（万网）- 最稳定
- **国际用户**：Cloudflare Registrar - 成本价
- **预算有限**：Namesilo - 便宜，支持支付宝

---

## 🎁 优惠信息

### 阿里云新用户
- 首次购买 .com 域名：约 ¥55/年
- 首次购买 .cn 域名：约 ¥29/年

### 腾讯云新用户
- 首次购买 .com 域名：约 ¥55/年
- 首次购买 .top 域名：约 ¥8/年（首年）

### Namesilo
- 使用优惠码可以便宜 $1
- 支持支付宝付款

---

## 📞 需要帮助？

如果你在配置过程中遇到问题，可以：

1. 查看域名注册商的帮助文档
2. 查看 Vercel 的[自定义域名文档](https://vercel.com/docs/concepts/projects/domains)
3. 查看 Cloudflare 的[入门指南](https://developers.cloudflare.com/fundamentals/get-started/)

祝你配置顺利！🚀
