# Audit Report Format Specification

## Overview

This document describes the structure and format of audit reports generated by the comprehensive feature audit system. Reports are available in three formats: HTML (interactive), JSON (machine-readable), and Console (quick overview).

## Report Formats

### 1. HTML Report

**File**: `audit-reports/audit-report-[timestamp].html`

Interactive web-based report with:
- Dashboard with visual charts
- Expandable/collapsible sections
- Filterable and sortable tables
- Search functionality
- Downloadable data
- Responsive design

#### Structure

```html
<!DOCTYPE html>
<html>
<head>
  <title>Audit Report - [timestamp]</title>
  <style>/* Embedded CSS */</style>
</head>
<body>
  <!-- Header -->
  <header>
    <h1>Comprehensive Feature Audit</h1>
    <div class="metadata">...</div>
  </header>
  
  <!-- Executive Summary -->
  <section id="summary">
    <div class="score-card">...</div>
    <div class="statistics">...</div>
  </section>
  
  <!-- Category Scores -->
  <section id="categories">
    <div class="category-grid">...</div>
  </section>
  
  <!-- Detailed Results -->
  <section id="details">
    <div class="category-details">...</div>
  </section>
  
  <!-- Issues -->
  <section id="issues">
    <table class="issues-table">...</table>
  </section>
  
  <!-- Recommendations -->
  <section id="recommendations">
    <div class="recommendation-cards">...</div>
  </section>
  
  <!-- Component Inventory -->
  <section id="components">
    <div class="component-list">...</div>
    <div class="dependency-graph">...</div>
  </section>
  
  <!-- Coverage Report -->
  <section id="coverage">
    <div class="coverage-charts">...</div>
  </section>
  
  <script>/* Interactive functionality */</script>
</body>
</html>
```

#### Visual Elements

**Score Card**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Overall Score: 94.7 / 100       â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â”‚
â”‚                                     â”‚
â”‚  âœ… 142 Passed  âŒ 8 Failed         â”‚
â”‚  âš ï¸  15 Warnings  ğŸ”´ 2 Critical     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Category Grid**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Core         â”‚ Organization â”‚ Search       â”‚
â”‚ Features     â”‚              â”‚              â”‚
â”‚ âœ… 95%       â”‚ âœ… 92%       â”‚ âš ï¸ 88%       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Issue Table**
```
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sev  â”‚ Category   â”‚ Issue           â”‚ Location â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”´   â”‚ Security   â”‚ Missing auth... â”‚ api/...  â”‚
â”‚ ğŸŸ    â”‚ A11y       â”‚ Low contrast... â”‚ comp/... â”‚
â”‚ ğŸŸ¡   â”‚ Perf       â”‚ Slow query...   â”‚ lib/...  â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. JSON Report

**File**: `audit-reports/audit-report-[timestamp].json`

Machine-readable structured data for programmatic access.

#### Schema

```typescript
interface AuditReport {
  // Report identification
  id: string                    // Unique report ID
  timestamp: string             // ISO 8601 timestamp
  version: string               // Audit system version
  
  // Summary statistics
  summary: AuditSummary
  
  // Detailed category results
  categories: CategoryReport[]
  
  // Improvement recommendations
  recommendations: Recommendation[]
  
  // Additional metadata
  metadata: AuditMetadata
}
```

#### Complete JSON Structure

```json
{
  "id": "audit-20231209-123456",
  "timestamp": "2023-12-09T12:34:56.789Z",
  "version": "1.0.0",
  
  "summary": {
    "totalTests": 150,
    "passedTests": 142,
    "failedTests": 8,
    "warningCount": 15,
    "overallScore": 94.7,
    "criticalIssues": 2,
    "executionTime": 245000,
    "environment": "development",
    "databaseMode": "local"
  },
  
  "categories": [
    {
      "category": "core-features",
      "displayName": "Core Features",
      "status": "passed",
      "score": 95.2,
      "weight": 0.20,
      "tests": [
        {
          "name": "Note CRUD Operations",
          "passed": true,
          "duration": 1234,
          "assertions": 15,
          "file": "src/lib/__tests__/audit/core-features.test.ts"
        },
        {
          "name": "Markdown Editor",
          "passed": true,
          "duration": 2345,
          "assertions": 20,
          "file": "src/lib/__tests__/audit/core-features.test.ts"
        }
      ],
      "propertyTests": [
        {
          "name": "Property 1: Functionality Completeness",
          "passed": true,
          "iterations": 100,
          "duration": 5678,
          "file": "src/lib/__tests__/audit/core-features.property.test.ts",
          "validates": "Requirements 1.1"
        }
      ],
      "issues": [],
      "recommendations": [
        "Consider adding more edge case tests for note deletion"
      ],
      "coverage": {
        "statements": 92.5,
        "branches": 88.3,
        "functions": 95.0,
        "lines": 91.8
      }
    },
    {
      "category": "performance",
      "displayName": "Performance",
      "status": "warning",
      "score": 87.5,
      "weight": 0.15,
      "tests": [
        {
          "name": "Page Load Time",
          "passed": true,
          "duration": 2800,
          "metrics": {
            "target": 3000,
            "actual": 2800,
            "unit": "ms"
          }
        },
        {
          "name": "Search Response Time",
          "passed": false,
          "duration": 2500,
          "metrics": {
            "target": 2000,
            "actual": 2500,
            "unit": "ms"
          },
          "error": {
            "message": "Search exceeded target response time",
            "expected": 2000,
            "actual": 2500
          }
        }
      ],
      "issues": [
        {
          "severity": "medium",
          "category": "performance",
          "title": "Search Response Time Exceeded",
          "description": "Search queries are taking 2.5s on average, exceeding the 2s target",
          "location": "src/lib/search.ts:45",
          "suggestion": "Consider adding database indexes on frequently searched fields",
          "impact": "medium",
          "effort": "small"
        }
      ],
      "recommendations": [
        "Add database indexes for search optimization",
        "Implement query result caching",
        "Consider pagination for large result sets"
      ]
    }
  ],
  
  "recommendations": [
    {
      "priority": "high",
      "category": "security",
      "title": "Add Rate Limiting to API Endpoints",
      "description": "API endpoints lack rate limiting, making them vulnerable to abuse",
      "effort": "medium",
      "impact": "high",
      "implementation": "Use express-rate-limit middleware on all API routes",
      "references": [
        "https://www.npmjs.com/package/express-rate-limit"
      ]
    },
    {
      "priority": "medium",
      "category": "performance",
      "title": "Optimize Search Query Performance",
      "description": "Search queries are slower than target response time",
      "effort": "small",
      "impact": "medium",
      "implementation": "Add database indexes on title and content fields",
      "estimatedImprovement": "40% faster search queries"
    }
  ],
  
  "metadata": {
    "project": "note-app",
    "projectVersion": "1.0.0",
    "auditVersion": "1.0.0",
    "environment": "development",
    "databaseMode": "local",
    "nodeVersion": "18.17.0",
    "platform": "darwin",
    "cpus": 8,
    "memory": "16GB",
    "startTime": "2023-12-09T12:30:00.000Z",
    "endTime": "2023-12-09T12:34:56.789Z",
    "duration": 296789,
    "configuration": {
      "timeout": 30000,
      "retries": 2,
      "parallel": true,
      "browsers": ["chromium", "firefox"]
    },
    "git": {
      "branch": "main",
      "commit": "abc123def456",
      "author": "Developer Name",
      "dirty": false
    }
  },
  
  "componentInventory": {
    "totalComponents": 127,
    "usedComponents": 119,
    "unusedComponents": [
      "src/components/legacy/OldButton.tsx",
      "src/components/experimental/NewFeature.tsx"
    ],
    "missingComponents": [],
    "componentsByCategory": {
      "auth": 8,
      "notes": 15,
      "editor": 12,
      "ui": 45,
      "collaboration": 10
    },
    "dependencyGraph": {
      "nodes": [
        { "id": "NoteCard", "type": "component", "usageCount": 5 },
        { "id": "EditorToolbar", "type": "component", "usageCount": 3 }
      ],
      "edges": [
        { "from": "NotesPage", "to": "NoteCard", "type": "uses" },
        { "from": "NoteEditor", "to": "EditorToolbar", "type": "uses" }
      ]
    }
  },
  
  "coverage": {
    "overall": {
      "statements": 84.5,
      "branches": 78.2,
      "functions": 86.3,
      "lines": 83.7
    },
    "byCategory": {
      "core-features": {
        "statements": 92.5,
        "branches": 88.3,
        "functions": 95.0,
        "lines": 91.8
      },
      "collaboration": {
        "statements": 78.3,
        "branches": 72.1,
        "functions": 80.5,
        "lines": 77.9
      }
    },
    "uncoveredFiles": [
      {
        "file": "src/lib/legacy/old-utils.ts",
        "statements": 45.2,
        "reason": "Legacy code, scheduled for removal"
      }
    ]
  },
  
  "performance": {
    "webVitals": {
      "FCP": { "value": 1200, "rating": "good" },
      "LCP": { "value": 2100, "rating": "good" },
      "FID": { "value": 80, "rating": "good" },
      "CLS": { "value": 0.08, "rating": "good" },
      "TTFB": { "value": 600, "rating": "good" }
    },
    "bundleSize": {
      "main": { "size": 456, "unit": "KB", "status": "good" },
      "vendor": { "size": 892, "unit": "KB", "status": "good" }
    },
    "apiMetrics": {
      "averageResponseTime": 1234,
      "p95ResponseTime": 2100,
      "p99ResponseTime": 3200,
      "slowestEndpoints": [
        { "path": "/api/search", "time": 2500 },
        { "path": "/api/notes/export", "time": 3200 }
      ]
    }
  },
  
  "accessibility": {
    "overallScore": 92,
    "violations": [
      {
        "id": "color-contrast",
        "impact": "serious",
        "description": "Elements must have sufficient color contrast",
        "nodes": [
          {
            "html": "<button class=\"secondary\">Cancel</button>",
            "target": [".modal button.secondary"],
            "failureSummary": "Contrast ratio of 3.2:1 is below minimum of 4.5:1"
          }
        ],
        "helpUrl": "https://dequeuniversity.com/rules/axe/4.4/color-contrast"
      }
    ],
    "passes": 45,
    "incomplete": 2,
    "inapplicable": 12
  }
}
```

### 3. Console Report

**Output**: Terminal/stdout during execution

Real-time progress and summary displayed in the console.

#### Format

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         Comprehensive Feature Audit - Starting...            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ Configuration
   â€¢ Timeout: 30000ms
   â€¢ Retries: 2
   â€¢ Parallel: true
   â€¢ Browsers: chromium, firefox

ğŸ” Running Tests...

âœ… Core Features                    [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (15/15)
âœ… Organization                     [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (12/12)
âš ï¸  Search & Filtering              [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (10/10)
âœ… Collaboration                    [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (8/8)
âœ… Offline & Sync                   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (10/10)
âœ… AI Features                      [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (6/6)
âœ… Mobile Experience                [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (9/9)
âœ… Export Functionality             [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (7/7)
âœ… Media Management                 [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (8/8)
âœ… Settings & Configuration         [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (5/5)
âœ… Template System                  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (6/6)
âœ… Version History                  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (7/7)
âš ï¸  Performance                     [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (12/12)
âœ… Accessibility                    [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (10/10)
âœ… Database Modes                   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (8/8)
âœ… Error Handling                   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (9/9)
âœ… Component Integration            [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (1/1)
âœ… Page Validation                  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (1/1)
âœ… Internationalization             [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (6/6)
âœ… Security                         [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%  (8/8)

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                      Audit Summary                           â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Overall Score:  94.7 / 100  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘         â•‘
â•‘                                                              â•‘
â•‘  Total Tests:    150                                         â•‘
â•‘  âœ… Passed:      142  (94.7%)                                â•‘
â•‘  âŒ Failed:      8    (5.3%)                                 â•‘
â•‘  âš ï¸  Warnings:   15                                          â•‘
â•‘  ğŸ”´ Critical:    2                                           â•‘
â•‘                                                              â•‘
â•‘  Duration:       4m 5s                                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”´ Critical Issues (2)
   1. [Security] Missing authentication on /api/admin endpoint
      â†’ src/app/api/admin/route.ts:15
   
   2. [Performance] Search queries exceeding 3s threshold
      â†’ src/lib/search.ts:45

âš ï¸  Warnings (15)
   â€¢ 8 performance warnings
   â€¢ 5 accessibility warnings
   â€¢ 2 code quality warnings

ğŸ“Š Reports Generated
   â€¢ HTML: audit-reports/audit-report-20231209-123456.html
   â€¢ JSON: audit-reports/audit-report-20231209-123456.json

ğŸ’¡ Next Steps
   1. Review critical issues immediately
   2. Address high-priority warnings
   3. Check detailed HTML report for full analysis
   4. Run category-specific audits for failed areas

âœ¨ Audit Complete!
```

## Data Types

### AuditSummary

```typescript
interface AuditSummary {
  totalTests: number          // Total number of tests executed
  passedTests: number         // Number of tests that passed
  failedTests: number         // Number of tests that failed
  warningCount: number        // Number of warnings generated
  overallScore: number        // Overall score (0-100)
  criticalIssues: number      // Number of critical issues
  executionTime: number       // Total execution time (ms)
  environment: string         // Environment (dev/ci/prod)
  databaseMode: string        // Database mode (local/supabase)
}
```

### CategoryReport

```typescript
interface CategoryReport {
  category: string            // Category identifier
  displayName: string         // Human-readable name
  status: 'passed' | 'failed' | 'warning'
  score: number               // Category score (0-100)
  weight: number              // Weight in overall score (0-1)
  tests: TestResult[]         // Unit test results
  propertyTests: PropertyTestResult[]  // Property test results
  issues: Issue[]             // Issues found
  recommendations: string[]   // Improvement suggestions
  coverage: CoverageMetrics   // Code coverage for category
}
```

### TestResult

```typescript
interface TestResult {
  name: string                // Test name
  passed: boolean             // Pass/fail status
  duration: number            // Execution time (ms)
  assertions?: number         // Number of assertions
  file: string                // Test file path
  error?: TestError           // Error details if failed
  metrics?: Record<string, any>  // Performance metrics
  screenshot?: string         // Screenshot path (if applicable)
}
```

### PropertyTestResult

```typescript
interface PropertyTestResult {
  name: string                // Property test name
  passed: boolean             // Pass/fail status
  iterations: number          // Number of iterations run
  duration: number            // Total execution time (ms)
  file: string                // Test file path
  validates: string           // Requirements validated
  counterexample?: any        // Failing input (if failed)
  shrunk?: any                // Shrunk counterexample
}
```

### Issue

```typescript
interface Issue {
  severity: 'critical' | 'high' | 'medium' | 'low'
  category: string            // Category where issue was found
  title: string               // Short issue description
  description: string         // Detailed description
  location?: string           // File and line number
  suggestion?: string         // How to fix
  impact?: 'high' | 'medium' | 'low'
  effort?: 'small' | 'medium' | 'large'
  references?: string[]       // Links to documentation
}
```

### Recommendation

```typescript
interface Recommendation {
  priority: 'high' | 'medium' | 'low'
  category: string            // Related category
  title: string               // Recommendation title
  description: string         // Detailed description
  effort: 'small' | 'medium' | 'large'
  impact: 'high' | 'medium' | 'low'
  implementation?: string     // Implementation guidance
  estimatedImprovement?: string  // Expected benefit
  references?: string[]       // Helpful links
}
```

### CoverageMetrics

```typescript
interface CoverageMetrics {
  statements: number          // Statement coverage %
  branches: number            // Branch coverage %
  functions: number           // Function coverage %
  lines: number               // Line coverage %
}
```

## Querying JSON Reports

### Using jq

```bash
# Get overall score
jq '.summary.overallScore' report.json

# List all failed tests
jq '.categories[].tests[] | select(.passed == false)' report.json

# Get critical issues
jq '.categories[].issues[] | select(.severity == "critical")' report.json

# Get category scores
jq '.categories[] | {category: .category, score: .score}' report.json

# Find slow tests (> 5s)
jq '.categories[].tests[] | select(.duration > 5000)' report.json

# Get high priority recommendations
jq '.recommendations[] | select(.priority == "high")' report.json

# Calculate average test duration
jq '[.categories[].tests[].duration] | add / length' report.json

# List unused components
jq '.componentInventory.unusedComponents[]' report.json

# Get accessibility violations
jq '.accessibility.violations[]' report.json

# Export to CSV
jq -r '.categories[] | [.category, .score, .status] | @csv' report.json
```

### Using Node.js

```javascript
const fs = require('fs')
const report = JSON.parse(fs.readFileSync('report.json', 'utf8'))

// Get failed tests
const failedTests = report.categories
  .flatMap(cat => cat.tests)
  .filter(test => !test.passed)

// Get critical issues
const criticalIssues = report.categories
  .flatMap(cat => cat.issues)
  .filter(issue => issue.severity === 'critical')

// Calculate category averages
const categoryScores = report.categories.map(cat => ({
  category: cat.category,
  score: cat.score,
  weight: cat.weight
}))

// Find performance bottlenecks
const slowTests = report.categories
  .flatMap(cat => cat.tests)
  .filter(test => test.duration > 5000)
  .sort((a, b) => b.duration - a.duration)
```

### Using Python

```python
import json

with open('report.json') as f:
    report = json.load(f)

# Get overall score
overall_score = report['summary']['overallScore']

# List failed tests
failed_tests = [
    test for category in report['categories']
    for test in category['tests']
    if not test['passed']
]

# Get critical issues
critical_issues = [
    issue for category in report['categories']
    for issue in category['issues']
    if issue['severity'] == 'critical'
]

# Calculate statistics
total_duration = sum(
    test['duration']
    for category in report['categories']
    for test in category['tests']
)
```

## Report Versioning

Reports include version information for compatibility:

```json
{
  "version": "1.0.0",
  "schemaVersion": "1.0",
  "compatibleWith": ["1.0.x"]
}
```

## Report Retention

Default retention policy:
- Keep last 30 reports
- Keep all reports from last 7 days
- Keep monthly reports indefinitely
- Compress reports older than 30 days

Configure in `audit.config.ts`:

```typescript
reporting: {
  retention: {
    maxReports: 30,
    maxAge: 90, // days
    compress: true,
    compressAfter: 30 // days
  }
}
```

## Additional Resources

- [Usage Guide](./USAGE_GUIDE.md) - How to run audits
- [Configuration Guide](./CONFIGURATION.md) - Configuration options
- [API Documentation](./API.md) - Programmatic usage
